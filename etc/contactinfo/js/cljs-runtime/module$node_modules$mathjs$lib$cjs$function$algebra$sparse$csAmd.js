shadow$provide.module$node_modules$mathjs$lib$cjs$function$algebra$sparse$csAmd=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.createCsAmd=void 0;global=require("module$node_modules$mathjs$lib$cjs$utils$factory");var _csFkeep=require("module$node_modules$mathjs$lib$cjs$function$algebra$sparse$csFkeep"),_csFlip=require("module$node_modules$mathjs$lib$cjs$function$algebra$sparse$csFlip"),_csTdfs=require("module$node_modules$mathjs$lib$cjs$function$algebra$sparse$csTdfs");
require=(0,global.factory)("csAmd",["add","multiply","transpose"],function(_ref){function _wclear(mark,lemax,W,w,n){if(2>mark||0>mark+lemax){for(mark=0;mark<n;mark++)0!==W[w+mark]&&(W[w+mark]=1);mark=2}return mark}function _diag(i,j){return i!==j}var add=_ref.add,multiply=_ref.multiply,transpose=_ref.transpose;return function(order,a$jscomp$0){if(!a$jscomp$0||0>=order||3<order)return null;var asize=a$jscomp$0._size,m=asize[0];asize=asize[1];var lemax=0,dense=Math.max(16,10*Math.sqrt(asize));dense=
Math.min(asize-2,dense);var a=a$jscomp$0;a$jscomp$0=dense;var at=transpose(a);if(1===order&&asize===m)a$jscomp$0=add(a,at);else{if(2===order){order=at._index;a=at._ptr;for(var p2=0,j=0;j<m;j++){var p=a[j];a[j]=p2;if(!(a[j+1]-p>a$jscomp$0))for(var p1=a[j+1];p<p1;p++)order[p2++]=order[p]}a[m]=p2;a=transpose(at)}a$jscomp$0=multiply(at,a)}(0,_csFkeep.csFkeep)(a$jscomp$0,_diag,null);m=a$jscomp$0._index;a$jscomp$0=a$jscomp$0._ptr;at=a$jscomp$0[asize];order=[];a=[];p2=asize+1;j=2*(asize+1);p=3*(asize+1);
p1=4*(asize+1);var degree=5*(asize+1),w=6*(asize+1),hhead=7*(asize+1),mark;for(mark=0;mark<asize;mark++)a[0+mark]=a$jscomp$0[mark+1]-a$jscomp$0[mark];for(mark=a[0+asize]=0;mark<=asize;mark++)a[p+mark]=-1,order[mark]=-1,a[j+mark]=-1,a[hhead+mark]=-1,a[p2+mark]=1,a[w+mark]=1,a[p1+mark]=0,a[degree+mark]=a[0+mark];mark=_wclear(0,0,a,w,asize);a[p1+asize]=-2;a$jscomp$0[asize]=-1;for(var nel=a[w+asize]=0,i=0;i<asize;i++){var d=a[degree+i];if(0===d)a[p1+i]=-2,nel++,a$jscomp$0[i]=-1,a[w+i]=0;else if(d>dense)a[p2+
i]=0,a[p1+i]=-1,nel++,a$jscomp$0[i]=(0,_csFlip.csFlip)(asize),a[p2+asize]++;else{var h=a[p+d];-1!==h&&(order[h]=i);a[j+i]=a[p+d];a[p+d]=i}}dense=nel;nel=0;for(var j$jscomp$0,k1,k2,pj,ln,nvi,p2$jscomp$0;dense<asize;){for(d=-1;nel<asize&&-1===(d=a[p+nel]);nel++);-1!==a[j+d]&&(order[a[j+d]]=-1);a[p+nel]=a[j+d];h=a[p1+d];var nvk=a[p2+d];dense+=nvk;var dk=0;a[p2+d]=-nvk;var p$jscomp$0=a$jscomp$0[d],pk1=0===h?p$jscomp$0:at,pk2=pk1;for(k1=1;k1<=h+1;k1++){k1>h?(j$jscomp$0=d,pj=p$jscomp$0,ln=a[0+d]-h):(j$jscomp$0=
m[p$jscomp$0++],pj=a$jscomp$0[j$jscomp$0],ln=a[0+j$jscomp$0]);for(k2=1;k2<=ln;k2++)i=m[pj++],0>=(nvi=a[p2+i])||(dk+=nvi,a[p2+i]=-nvi,m[pk2++]=i,-1!==a[j+i]&&(order[a[j+i]]=order[i]),-1!==order[i]?a[j+order[i]]=a[j+i]:a[p+a[degree+i]]=a[j+i]);j$jscomp$0!==d&&(a$jscomp$0[j$jscomp$0]=(0,_csFlip.csFlip)(d),a[w+j$jscomp$0]=0)}0!==h&&(at=pk2);a[degree+d]=dk;a$jscomp$0[d]=pk1;a[0+d]=pk2-pk1;a[p1+d]=-2;mark=_wclear(mark,lemax,a,w,asize);for(k1=pk1;k1<pk2;k1++)if(i=m[k1],!(0>=(k2=a[p1+i])))for(nvi=-a[p2+i],
pj=mark-nvi,p$jscomp$0=a$jscomp$0[i],ln=a$jscomp$0[i]+k2-1;p$jscomp$0<=ln;p$jscomp$0++)j$jscomp$0=m[p$jscomp$0],a[w+j$jscomp$0]>=mark?a[w+j$jscomp$0]-=nvi:0!==a[w+j$jscomp$0]&&(a[w+j$jscomp$0]=a[degree+j$jscomp$0]+pj);for(k1=pk1;k1<pk2;k1++){i=m[k1];ln=a$jscomp$0[i];p2$jscomp$0=ln+a[p1+i]-1;nvi=ln;k2=pj=0;for(p$jscomp$0=ln;p$jscomp$0<=p2$jscomp$0;p$jscomp$0++)if(j$jscomp$0=m[p$jscomp$0],0!==a[w+j$jscomp$0]){var dext=a[w+j$jscomp$0]-mark;0<dext?(k2+=dext,m[nvi++]=j$jscomp$0,pj+=j$jscomp$0):(a$jscomp$0[j$jscomp$0]=
(0,_csFlip.csFlip)(d),a[w+j$jscomp$0]=0)}a[p1+i]=nvi-ln+1;dext=nvi;var p4=ln+a[0+i];for(p$jscomp$0=p2$jscomp$0+1;p$jscomp$0<p4;p$jscomp$0++)j$jscomp$0=m[p$jscomp$0],p2$jscomp$0=a[p2+j$jscomp$0],0>=p2$jscomp$0||(k2+=p2$jscomp$0,m[nvi++]=j$jscomp$0,pj+=j$jscomp$0);0===k2?(a$jscomp$0[i]=(0,_csFlip.csFlip)(d),nvi=-a[p2+i],dk-=nvi,nvk+=nvi,dense+=nvi,a[p2+i]=0,a[p1+i]=-1):(a[degree+i]=Math.min(a[degree+i],k2),m[nvi]=m[dext],m[dext]=m[ln],m[ln]=d,a[0+i]=nvi-ln+1,pj=(0>pj?-pj:pj)%asize,a[j+i]=a[hhead+pj],
a[hhead+pj]=i,order[i]=pj)}a[degree+d]=dk;lemax=Math.max(lemax,dk);mark=_wclear(mark+lemax,lemax,a,w,asize);for(k1=pk1;k1<pk2;k1++)if(i=m[k1],!(0<=a[p2+i]))for(pj=order[i],i=a[hhead+pj],a[hhead+pj]=-1;-1!==i&&-1!==a[j+i];i=a[j+i],mark++){ln=a[0+i];k2=a[p1+i];for(p$jscomp$0=a$jscomp$0[i]+1;p$jscomp$0<=a$jscomp$0[i]+ln-1;p$jscomp$0++)a[w+m[p$jscomp$0]]=mark;nvi=i;for(j$jscomp$0=a[j+i];-1!==j$jscomp$0;){pj=a[0+j$jscomp$0]===ln&&a[p1+j$jscomp$0]===k2;for(p$jscomp$0=a$jscomp$0[j$jscomp$0]+1;pj&&p$jscomp$0<=
a$jscomp$0[j$jscomp$0]+ln-1;p$jscomp$0++)a[w+m[p$jscomp$0]]!==mark&&(pj=0);pj?(a$jscomp$0[j$jscomp$0]=(0,_csFlip.csFlip)(i),a[p2+i]+=a[p2+j$jscomp$0],a[p2+j$jscomp$0]=0,a[p1+j$jscomp$0]=-1,j$jscomp$0=a[j+j$jscomp$0],a[j+nvi]=j$jscomp$0):(nvi=j$jscomp$0,j$jscomp$0=a[j+j$jscomp$0])}}for(k1=p$jscomp$0=pk1;k1<pk2;k1++)i=m[k1],0>=(nvi=-a[p2+i])||(a[p2+i]=nvi,k2=a[degree+i]+dk-nvi,k2=Math.min(k2,asize-dense-nvi),-1!==a[p+k2]&&(order[a[p+k2]]=i),a[j+i]=a[p+k2],order[i]=-1,a[p+k2]=i,nel=Math.min(nel,k2),
a[degree+i]=k2,m[p$jscomp$0++]=i);a[p2+d]=nvk;0===(a[0+d]=p$jscomp$0-pk1)&&(a$jscomp$0[d]=-1,a[w+d]=0);0!==h&&(at=p$jscomp$0)}for(i=0;i<asize;i++)a$jscomp$0[i]=(0,_csFlip.csFlip)(a$jscomp$0[i]);for(j$jscomp$0=0;j$jscomp$0<=asize;j$jscomp$0++)a[p+j$jscomp$0]=-1;for(j$jscomp$0=asize;0<=j$jscomp$0;j$jscomp$0--)0<a[p2+j$jscomp$0]||(a[j+j$jscomp$0]=a[p+a$jscomp$0[j$jscomp$0]],a[p+a$jscomp$0[j$jscomp$0]]=j$jscomp$0);for(j$jscomp$0=asize;0<=j$jscomp$0;j$jscomp$0--)0>=a[p2+j$jscomp$0]||-1===a$jscomp$0[j$jscomp$0]||
(a[j+j$jscomp$0]=a[p+a$jscomp$0[j$jscomp$0]],a[p+a$jscomp$0[j$jscomp$0]]=j$jscomp$0);for(i=d=0;i<=asize;i++)-1===a$jscomp$0[i]&&(d=(0,_csTdfs.csTdfs)(i,d,a,p,j,order,w));order.splice(order.length-1,1);return order}});exports.createCsAmd=require}
//# sourceMappingURL=module$node_modules$mathjs$lib$cjs$function$algebra$sparse$csAmd.js.map
